# План автоматизации тестирования

## 1. Автоматизируемые сценарии

### Тесты UI и DB

#### Позитивные:

1. Покупка тура по «APPROVED» карте с валидными реквизитами;

2. Покупка тура в кредит по данным «APPROVED» карты с валидными реквизитами;

3. Покупка тура по «APPROVED» карте с заканчивающимся сроком действия;

4. Покупка тура в кредит по данным «APPROVED» карты с заканчивающимся сроком действия;

5. Покупка тура по «APPROVED» карте с редким именем владельца (дефис);

6. Покупка тура в кредит по данным «APPROVED» карты с редким именем владельца (дефис);

#### Негативные:

7. Покупка тура по «DECLINED» карте с валидными реквизитами;

8. Покупка тура в кредит по данным «DECLINED» карты с валидными реквизитами;

9. Покупка тура по «APPROVED» карте с истекшим сроком действия;

10. Покупка тура в кредит по данным «APPROVED» карты с истекшим сроком действия;

11. Покупка тура по карте с невалидным номером
    (неверный формат, 15 цифр, 17 цифр, буквы, символы, пробелы);

12. Покупка тура в кредит по данным карты с невалидным номером
    (неверный формат, 15 цифр, 17 цифр, буквы, символы, пробелы);

13. Покупка тура по карте с невалидным месяцем
    (13, 1 цифра, буквы, символы, пробелы);

14. Покупка тура в кредит по данным карты с невалидным месяцем
    (13, 1 цифра, буквы, символы, пробелы);

15. Покупка тура по карте с невалидным годом
    (больше возможного, 1 цифра, буквы, символы, пробелы);

16. Покупка тура в кредит по данным карты с невалидным годом
    (больше возможного, 1 цифра, буквы, символы, пробелы);

17. Покупка тура по карте с невалидным именем владельца
    (1 буква, 28 букв, кириллица, цифры, символы, пробелы);

18. Покупка тура в кредит по данным карты с невалидным именем владельца
    (1 буква, 28 букв, кириллица, цифры, символы, пробелы);

19. Покупка тура по карте с невалидным кодом CVV
    (2 цифры, 4 цифры, буквы, символы, пробелы);

20. Покупка тура в кредит по данным карты с кодом CVV
    (2 цифры, 4 цифры, буквы, символы, пробелы);

21. Отправка формы с незаполненным номером карты;

22. Отправка формы с незаполненным месяцем;

23. Отправка формы с незаполненным годом;

24. Отправка формы с незаполненным именем владельца;

25. Отправка формы с незаполненным кодом CVV;

26. Отправка пустой формы.

### Тесты API

#### Позитивные:

27. Отправка POST-запроса с реквизитами «APPROVED» карты.

28. Отправка POST-запроса с реквизитами «DECLINED» карты.

#### Негативные:

29. Отправка POST-запроса с невалидными реквизитами карты.

## 2. Используемые инструменты

#### Подготовка/запуск SUT и тестов:
* Docker – для развёртывания и управления СУБД, а так же симулятора банковских сервисов;
* Java – ЯП с удобной экосистемой, большим набором инструментов для автоматизации тестирования;
* IntelliJ IDEA – лучшая среда разработки для Java;
* Gradle – удобная и мощная система сборки для управления зависимостями;
* JUnit 5 – широко применяемая среда тестирования для Java-приложений;

#### Фреймворки и библиотеки:
* Selenide – самый функциональный и удобный фреймворк для авто-тестирования веб-интерфейса;
* MySQL(PostgreSQL) Connector/J – драйверы для взаимодействия с БД из кода;
* DbUtils – библиотека для упрощения работы с JDBC;
* REST Assured – библиотека для автоматизации тестирования REST API;
* Java Faker – библиотека для генерации тестовых данных;
* Lombok – библиотека для сокращения объема шаблонного кода и повышения его читабельности;
* Allure Report – оптимальный фреймворк для создания информативных отчётов о выполнении тестов;

#### Дополнительные:
* Google Chrome – для запуска авто-тестов и отладки в DevTools;
* Database Navigator – плагин для подключения к БД и отправки запросов из IntelliJ IDEA.

## 3. Возможные риски при автоматизации
* Приложение может меняться достаточно часто (в частности UI), а значит часть кода будет терять актуальность
  и приводить к падению тестов.
* Правильность авто-тестов надо проверять, сравнивая их работу с результатами ручного тестирования.
  Например, не все элементы страницы могут распознаваться инструментом корректно.
* Тесты могут находить «ложные» дефекты и быть нестабильными – их тоже надо проверять вручную.
* Неверный выбор инструментов: их несовместимость между собой или с версией браузера.
* Время и ресурсы, потраченные на автоматизацию, могут превысить экономическую выгоду от ее внедрения
  на данном проекте.

## 4. Интервальная оценка времени
Затраты времени на автоматизацию тестирования с учетом рисков составят от 20 до 30 часов.

## 5. План сдачи работ
|  №  | Наименование работы              | Дата сдачи |
|:---:|:---------------------------------|:----------:|
|  1  | План автоматизации тестирования  | 16.05.2022 |
|  2  | Написание и отладка авто-тестов  | 20.05.2022 |
|  3  | Подготовка и оформление репортов | 22.05.2022 |
|  4  | Отчет по автоматизации           | 24.05.2022 |